<!DOCTYPE html>
<html>
	<head>

		<meta charset="utf-8">

		<title>
			Objective-C |
			DouO's Note </title>

		<meta name="author" content="DouO">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
		<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<!-- Le styles -->
<link href='/moon-2013/assets/stylesheets/semantic-91be4534b368c69b3ae34ebe17bb9928.css' type='text/css' rel='stylesheet' media='all'>
<link href='/moon-2013/assets/stylesheets/toc-24de7073de5e84bbdf82d581655967fa.css' type='text/css' rel='stylesheet' media='all'>
<link href='/moon-2013/assets/stylesheets/note-abdc38b478e2e51aafac266fed65bb36.css' type='text/css' rel='stylesheet' media='all'>
<link href='/moon-2013/assets/stylesheets/widgets/google_prettify/moon-a586c0c53856bb03a2050ca5121629fe.css' type='text/css' rel='stylesheet' media='all'>		
		<!-- script -->
<script src='/moon-2013/assets/javascripts/jquery-1.8.2.min-cfa9051cc0b05eb519f1e16b2a6645d7.js'></script>
<script src='/moon-2013/assets/javascripts/semantic-54cc5e8b6a700ce47e0d951c470b6bb6.js'></script>
<script src='/moon-2013/assets/javascripts/jquery.c.min-e08fd6c1881afcf509255ce8b8f9b32b.js'></script>
<script src='/moon-2013/assets/javascripts/jquery.smooth-scroll.min-5caac1be39aee89977e39f82d14f0e08.js'></script>
<script src='/moon-2013/assets/javascripts/front-9bcae9460ba6dd25c936b7bdc47a9998.js'></script>
<script src='/moon-2013/assets/javascripts/note-613cb7a88bab975ffe3bbf1be9fbbd6a.js'></script>		
		

		

<script src="/moon-2013/assets/widgets/lazyload/javascripts/jquery.lazyload.min.js"></script>
    <!-- lazyload -->
    <script type="text/javascript">
      jQuery(document).ready(function($){
      if (navigator.platform == "iPad") return;
      jQuery("img.lazy").not(".cycle img").lazyload({
      effect:"fadeIn",
      placeholder: "/moon-2013/assets/media/ajax-loader.gif"
      });
      });
    </script>
   

		
<!-- Add mousewheel plugin (this is optional) -->
<script type="text/javascript" src="//cdn.staticfile.org/jquery-mousewheel/3.1.3/jquery.mousewheel.min.js"></script>


<!-- Add fancyBox -->
<link rel="stylesheet" href="/moon-2013/assets/widgets/fancybox/stylesheets/jquery.fancybox.css" type="text/css" media="screen" />
<script src="/moon-2013/assets/widgets/fancybox/javascripts/jquery.fancybox.pack.js"></script>

<!-- Optionally add helpers - button, thumbnail and/or media -->

<!-- <link rel="stylesheet" href="/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen" />
<script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.6"></script>

<link rel="stylesheet" href="/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen" />
<script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script> -->


<script type="text/javascript">
      $(document).ready(function() {
      $(".fancybox").fancybox();
      });
    </script>
   

		<link rel="shortcut icon" href="/moon-2013/assets/media/favicon.ico">
		<!-- Le fav and touch icons -->
		<!-- Update these with your own images

		<link rel="shortcut icon" href="images/favicon.ico">
		<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
		<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
		-->
		<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12243999-3']);
  _gaq.push(['_trackPageview']);
  

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


	</head>
	<body>
		<div class="ui vertical inverted labeled sidebar menu sidebar accordion">
			<div class="header item">
				<div class="item title">
					<i class="dropdown icon"></i>
					<a href="/notes" title="我的笔记" ><i class="book large icon"></i></a>
				</div>
				<div class="menu content">
					<a class="item" href="/">博客</a>
					<a class="item" href="http://wiki.dourok.info/doku.php">Wiki</a>
					<a class="item" href="/about">关于我</a>
				</div>
			</div>
			<div class="header item">
				<div class="item title">
					<i class="dropdown icon"></i>
					<a href="/moon-2013/notes/Uncategory">其他</a>
				</div>
				<div class="menu content">
					<div class="item">
					 
					<a href="/moon-2013/notes/Uncategory/tags">笔记标签</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Uncategory/greendao">greenDao</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Uncategory/gradle">gradle</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Uncategory/chinese-calendar">天朝历法</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Uncategory/amazon">amazon</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Uncategory/Holistic-Learning">Holistic Learning</a>
					
					
					</div>
				</div>
			</div>
			<div class="header item">
				<div class="item title">
					<i class="dropdown icon"></i>
					<a href="/moon-2013/notes/Tools">工具</a>
				</div>
				<div class="menu content">
					<div class="item">
										<a>Emacs</a>
					
					<div class="menu">
						<div class="item">
						 
						<a href="/moon-2013/notes/Tools/Emacs/orgmode">orgmode</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Tools/Emacs/emacs-diary">Emacs 日记</a>
						
						
						</div>
					</div>
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/xcode">Xcode</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/trello">Trello</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/ruhoh">Ruhoh</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/ruhoh-env">配置 RUHOH 环境</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/online-toolkits">在线工具集合</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/imagemagick">ImageMagick</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/git">git</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/eclipse">Eclipse</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/android-studio">Android Studio</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Tools/Mustache">Mustache</a>
					
					
					</div>
				</div>
			</div>
			<div class="header item">
				<div class="item title">
					<i class="dropdown icon"></i>
					<a href="/moon-2013/notes/Study">兴趣</a>
				</div>
				<div class="menu content">
					<div class="item">
										<a>Music</a>
					
					<div class="menu">
						<div class="item">
						 
						<a href="/moon-2013/notes/Study/Music/guitar-note">吉他笔记</a>
						
						
						</div>
					</div>
					
					</div>
					<div class="item">
										<a>Astronomy</a>
					
					<div class="menu">
						<div class="item">
						 
						<a href="/moon-2013/notes/Study/Astronomy/spherical-astronomy">球面天文学基础</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Study/Astronomy/solar-system">太阳系</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Study/Astronomy/physics">物理学基础</a>
						
						
						</div>
					</div>
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Study/metadata">Metadata</a>
					
					
					</div>
				</div>
			</div>
			<div class="header item">
				<div class="item title">
					<i class="dropdown icon"></i>
					<a href="/moon-2013/notes/Reading">读书笔记</a>
				</div>
				<div class="menu content">
					<div class="item">
					 
					<a href="/moon-2013/notes/Reading/the-productive-programmer">卓有成效的程序员</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Reading/some_mind">Some mind</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Reading/philosophy-of-note">记录的哲学</a>
					
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Reading/evernote">Evernote</a>
					
					
					</div>
				</div>
			</div>
			<div class="header item">
				<div class="item title">
					<i class="dropdown icon"></i>
					<a href="/moon-2013/notes/Quick">便签</a>
				</div>
				<div class="menu content">
					<div class="item">
										<a>2013</a>
					
					<div class="menu">
						<div class="item">
												<a>03</a>
						
						<div class="menu">
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2013/03/note-2013-03-06">2013年03月06日杂记</a>
							
							
							</div>
						</div>
						
						</div>
						<div class="item">
												<a>02</a>
						
						<div class="menu">
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2013/02/note-2013-02-14">2013年02月14日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2013/02/note-2013-02-04">2013年02月04日杂记</a>
							
							
							</div>
						</div>
						
						</div>
						<div class="item">
												<a>01</a>
						
						<div class="menu">
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2013/01/note-2013-01-09">2013年01月09日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2013/01/note-2013-01-08">2013年01月08日杂记</a>
							
							
							</div>
						</div>
						
						</div>
					</div>
					
					</div>
					<div class="item">
										<a>2012</a>
					
					<div class="menu">
						<div class="item">
												<a>12</a>
						
						<div class="menu">
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/12/note-2012-12-22">2012年12月22日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/12/note-2012-12-21">2012年12月21日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/12/note-2012-12-20">2012年12月20日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/12/note-2012-12-11">2012年12月11日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/12/note-2012-12-10">2012年12月10日杂记</a>
							
							
							</div>
						</div>
						
						</div>
						<div class="item">
												<a>11</a>
						
						<div class="menu">
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/11/note-2012-11-22">2012年11月22日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/11/note-2012-11-21">2012年11月21日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/11/note-2012-11-20">2012年11月20日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/11/note-2012-11-15">2012年11月15日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/11/note-2012-11-14">2012年11月14日杂记</a>
							
							
							</div>
							<div class="item">
							 
							<a href="/moon-2013/notes/Quick/2012/11/note-2012-11-07">2012年11月07日杂记</a>
							
							
							</div>
						</div>
						
						</div>
					</div>
					
					</div>
				</div>
			</div>
			<div class="header item">
				<div class="item title">
					<i class="dropdown icon"></i>
					<a href="/moon-2013/notes/Programming">编码</a>
				</div>
				<div class="menu content">
					<div class="item">
					 
					<a href="/moon-2013/notes/Programming/iOS">iOS</a>
					
					<div class="menu">
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/iOS/snippets">常用代码片段</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/iOS/WindowsAndView">WindowsAndView</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/iOS/Objective-C">Objective-C</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/iOS/CS193P">斯坦福CS193P</a>
						
						
						</div>
					</div>
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Programming/Ruby">Ruby</a>
					
					<div class="menu">
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Ruby/ri-and-rdoc">ri and RDoc</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Ruby/nokogiri">nokogiri</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Ruby/metaprogramming-ruby">Metaprogramming Ruby</a>
						
						
						</div>
					</div>
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Programming/Android">Android</a>
					
					<div class="menu">
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/weird-android">Weird Android</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/surfaceview">SurfaceView</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/service">Service</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/screen-support">Screen Support</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/fragment">Fragment</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/cocos2dx">Cocos2dx</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/android-decompilation">android 逆向工程</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/activity">Activity</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/NDK">NDK</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Programming/Android/Google-IO-2013">Google IO 2013</a>
						
						
						</div>
					</div>
					
					</div>
				</div>
			</div>
			<div class="header item">
				<div class="item title">
					<i class="dropdown icon"></i>
					<a href="/moon-2013/notes/Computer">计算机</a>
				</div>
				<div class="menu content">
					<div class="item">
										<a>Mac</a>
					
					<div class="menu">
						<div class="item">
						 
						<a href="/moon-2013/notes/Computer/Mac/mountain-lion-memo">山狮备忘</a>
						
						
						</div>
						<div class="item">
						 
						<a href="/moon-2013/notes/Computer/Mac/mavericks-memo">Mavericks 备忘</a>
						
						
						</div>
					</div>
					
					</div>
					<div class="item">
					 
					<a href="/moon-2013/notes/Computer/pc">PC折腾记录</a>
					
					
					</div>
				</div>
			</div>
			<div class="header item">
				<div class="item title">
					<a href="/moon-2013/notes/log">站点日志</a>
				</div>
			</div>
		</div>

		<div class="ui black huge launch right attached button">
			<i class="icon list layout"></i>
			<span class="text">菜单</span>
		</div>

		<header class="segment container">
			<h1 class="ui dividing header">Objective-C</h1>
			<p class="segment">
				
				<p>
				</p>
			</p>
		</header>
		<div class="container">
			<article>
				<h3 id="toc_0">类</h3><pre><code class="">myRectangle = [[Rectangle alloc] init];   //alloc , init 都是NSObject的实例方法.alloc 开辟内存空间 init 初始化对象
</code></pre>
<p><em>TODO</em></p>
<h4 id="toc_1">声明</h4>
<p>分为 接口声明 .h</p>
<pre><code class="">@interface ClassName : ItsSuperclass 
    // Method and property declarations.
@end 
</code></pre>
<p>和实现 .m</p>
<pre><code class="">@implementation ClassName
{
    // Instance variable declarations.
}
// Method definitions.
@end
</code></pre>
<p>在类内部使用<code>self</code>来表示当前实例。</p>
<h4 id="toc_2">属性（property）声明</h4><pre><code class="">@property (attributes) Type propertyName;
</code></pre>
<p><strong>TODO</strong></p>
<h4 id="toc_3">静态成员</h4><h4 id="toc_4">实例成员</h4><h4 id="toc_5">實例化</h4>
<p>數組中的元素都是strong </p>

<p>所有類必須爲子類提供一個初始化方法</p>

<p>init 方法應當返回 <strong>id</strong></p>

<p>一個初始化的例句</p>
<pre><code class="">@implementation MyObject
- (id) init{
    self = [super init]; // self 只是一個本地指針
    if(self){ 
        // initialize our subclass here
    }
    return self;
}
@end
</code></pre><h3 id="toc_6">方法</h3>
<p>objc 用<code>:</code>来传递参数，参数可以出现在方法体的任意位置。让代码看起来更像是英语，如：</p>
<pre><code class="">- (void) setColorToRed: (float)red Green: (float)green Blue:(float)blue; /* 宣告方法 */
[myColor setColorToRed: 1.0 Green: 0.8 Blue: 0.2]; /* 呼叫方法 */
</code></pre>
<p>括号内声明 (类型) . 感觉好读,但是又好罗嗦.</p>

<p><code>[receiver message]</code></p>

<p><code>[nil message]</code>  向nil发送消息将返回nil。</p>
<h4 id="toc_7">類方法 vs 實例方法</h4>
<p><strong>Struct 和 Object 的區別</strong></p>
<h5 id="toc_8">聲明</h5><pre><code class="">- (BOOL) isRignt; // 實例方法，以 *-* 開始

+ (id)alloc;  //類方法，以*+* 開始
</code></pre><h5 id="toc_9">作用</h5>
<p>類方法主要就是爲創建對象和工具方法使用</p>
<h5 id="toc_10">調用</h5><pre><code class="">[&lt;pointer to instance&gt; method]; //實例方法
[Class method]; //類方法
[[instance class] method] //調用instance 的類方法
</code></pre>
<p>self/super  同 java 的 this/super</p>
<h3 id="toc_11">nil</h3>
<p>nill  = 0</p>

<p>所有synthesize 的實體變量都是nil</p>

<p>if(obj)  可以判斷是否爲nil</p>

<p>向nil發送消息，不會導致異常，實際上沒有任何代碼被執行。
如果方法有返回值，那他將返回 0</p>
<pre><code class="">int i = [obj methodWhichReturnsAnInt]  // 如果 obj爲nil，那麼i將等於0
</code></pre>
<p><strong>TODO</strong></p>
<h3 id="toc_12">作用域</h3>
<p>与java相同的实例变量作用域</p>
<pre><code class="">@private
@protected
@public
@package
</code></pre><h3 id="toc_13">Dot Syntax</h3>
<p><code>.</code> 操作符可以用来访问对象的accessor methods ，即java 中实例变量的get
方法。</p>
<pre><code class="">self.age = 10;
</code></pre>
<p>等于</p>
<pre><code class="">[self setAge:10];
</code></pre>
<p>如果没有用 <code>self.</code>, 将自己访问实例变量本身。下面例子中, age 的 set 并
没有被调用</p>
<pre><code class="">age = 10;
</code></pre><h3 id="toc_14">@ 符号</h3>
<p>很多Objective-C 关键字都有个<code>@</code>作为前缀,目的是为了避免和C/C++的关键字冲突，让其面向对象的语法可以和C/C++共存。</p>

<p>下面是部分关键字的列表</p>

<ul>
<li>@implementation</li>
<li>@interface</li>
<li>@end</li>
<li>@synthesize</li>
<li>@dynamic</li>
<li>@public</li>
<li>@private</li>
<li>@property</li>
</ul>

<p>还可以作为值对象的速记语法</p>
<pre><code class="">@&quot;&quot; // 是 NSString 的语法.

NSNumber *myIntValue    = @32;
NSNumber *myDoubleValue = @3.22346432;
NSNumber *myBoolValue = @YES;
NSNumber *myCharValue = @'V';
NSNumber *myFloatValue = @3.2F  
// 「U」、「L」、「LL」

//  @[ ...] 创建数组
NSArray *myArray = @[ @&quot;Hello World&quot;, @67, [NSDate date] ];
// 以下代码创建含三个键－值对的不可变字典对象
NSDictionary *myDictionary = @{
    @&quot;name&quot; :NSUserName(),
    @&quot;date&quot; :[NSDate date],
    @&quot;processInfo&quot; :[NSProcessInfo processInfo]
};
// 还可以使用下标访问字典中的对象
NSString *theName = myDictionary[@&quot;name&quot;];

//可以使用下标，将键－值对添加到可变字典中
NSMutableDictionary *mutableDict = [[NSMutableDictionary alloc] init];
mutableDict[@&quot;name&quot;] = @&quot;John Doe&quot;;
</code></pre>
<p><code>%@</code> 用于格式化语法，打印出 Obj-C 对象的字符串表示，<code>descriptionWithLocale:</code>。注意，这个不是Obj-C语法的一部分，而是框架级的。</p>

<p>详细见：<a href="http://stackoverflow.com/questions/25749/what-does-the-symbol-represent-in-objective-c">http://stackoverflow.com/questions/25749/what-does-the-symbol-represent-in-objective-c</a></p>
<h3 id="toc_15">协议 代理 类别</h3>
<p>协议:</p>
<pre><code class="">@protocol Locking
- (void)lock;
- (void)unLock;
@end
/*类似 java中的接口
在类中这样声明表示,实现协议(接口)*/
@interface MyClass:SuperClass &lt;Locking&gt;
@end
</code></pre><h3 id="toc_16">常量</h3>
<ul>
<li>使用c的预处理#define来设置常量。</li>
<li><p>const关键字</p>

<p>常量也是大小写混排的驼峰命名规则，首字母小写，另外，第一个字母是k。</p></li>
</ul>

<p><a href="http://marshal.easymorse.com/archives/4149">http://marshal.easymorse.com/archives/4149</a></p>
<h3 id="toc_17">程序入口</h3>
<p>Objc 的入口还是main函数，这是iOS程序的入口</p>
<pre><code class="">int main(int argc, char *argv[])
{
    NSLog(@&quot;%d,%s&quot;,argc,*argv);
    @autoreleasepool {
        return UIApplicationMain(argc, argv, nil, NSStringFromClass([DemoAppDelegate class]));
    }
}
</code></pre><h3 id="toc_18">BOOL</h3>
<p>objc 的布爾類型，實際是用了typedef
NO 等於 0 ，YES 爲非零</p>
<h3 id="toc_19">动态编程</h3><h4 id="toc_20">id</h4>
<p>id 是对象的标识符，类似于 java 中的 Object </p>

<p>id 为一个 objc_object 的结构指针</p>
<pre><code class="">typedef struct objc_object {
    Class isa;
} *id;
</code></pre>
<p>所以每个对象都有一个 isa 变量</p>
<pre><code class="">- setMyValue:(id) foo;
</code></pre>
<p>该声明表示「foo」可以是任何类的实例。</p>
<pre><code class=""> - setMyValue:(id &lt;aProtocol&gt;) foo;
</code></pre>
<p>该声明表示「foo」可以是任何类的实例，但它必须符合「aProtocol」协议。</p>
<pre><code class="">- setMyValue:(NSNumber*) foo;
</code></pre><h4 id="toc_21">Dynamic Binding (動態綁定)</h4>
<p>固定類型，只是方便debug，固定類型和id在運行時是沒有區別的。</p>
<h4 id="toc_22">Object Typing</h4>
<p>跟java 有不少區別，找課件</p>

<p>isKindOfClass
isMemberOfClass
respondsToSelector</p>

<p>@selector() 將方法名轉換爲 selector</p>

<p>[obj respondsToSelector:@selector(method)]; </p>

<p>selector 非常酷，更有面向函數語言的感覺了。</p>
<h3 id="toc_23">运行时系统</h3><h3 id="toc_24">内存管理</h3>
<p>您应该将弱引用用于以下种类的引用：</p>

<p>委托</p>
<pre><code class="">@property(weak) id delegate;
</code></pre>
<p>您将在「设计模式」文章「采用设计模式使您的应用程序合理化」中了解有关委托和目标的信息。
未引用顶级对象的 Outlet</p>
<pre><code class="">@property(weak) IBOutlet NSString *theName;
</code></pre>
<p>Outlet 是对象之间的连接（或引用），归档在串联图或 nib 文件中，且在应用程序载入该串联图或 nib 文件时得到恢复。串联图或 nib 文件中顶级对象（通常是窗口、视图、视图控制器或其他控制器）的 outlet 应该为 strong（默认值，因此无标记）。
目标</p>
<pre><code class="">(void)setTarget:(id __weak)target
</code></pre>
<p>在块内对 self 的引用</p>
<pre><code class="">__block typeof(self) tmpSelf = self;
[self methodThatTakesABlock:^ {
    [tmpSelf doSomething];
}];
</code></pre>
<p>一个块对它所捕捉的变量构成强引用。如果在块内使用 self，该块对 self 构成强引用。因此，如果 self 也具有对该块的强引用（通常都有），将产生强引用循环。要避免循环，您需要在块外创建对 self 的 weak（或 __block）引用，如以上例子所示。</p>
<h3 id="toc_25">块</h3>
<p><img class="lazy img-polaroid display" src="/moon-2013/assets/media/objc/blocks_2x.png" title=""  alt=""></p>

<p>用typedef简化块的定义</p>
<pre><code class="">typedef float (^MyBlockType)(float, float);

MyBlockType myFirstBlock = // ... ;
MyBlockType mySecondBlock = // ... ;
</code></pre>
			</article>
			<footer class="statement">
			  <small class＝"copyright">&copy;2009-2013  |</small>
			  <small class= "power">基於 <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
			    和 <a href="http://twitter.github.com/bootstrap/"
				  target="_blank">Twitter Bootstrap</a> <a href="/diary"><img src="/moon-2013/assets/media/broken_heart.png"></img></a></small>
			  <small class="license">
			    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh"><img title="知识共享许可协议" style="border-width: 0px; vertical-align: middle; display: inline; " src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" original="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png"></a>		
			  </small>
			</footer>
			
		</div>
		
		<!-- Google Prettify -->
<script src="http://cdn.staticfile.org/prettify/r298/prettify.min.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
	</body>
</html>

