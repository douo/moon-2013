<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      初尝 Android Studio | 
      DouO's Blog
    </title>
    <meta name="author" content="DouO">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
    
    <!-- Le styles -->
<link href='/assets/stylesheets/bootstrap.min-93b47f97c3444c4711853ed5140d82a1.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/bootstrap-responsive.min-6be942c8ec424a44aa4f31e099bae1fc.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/toc-24de7073de5e84bbdf82d581655967fa.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/style-2a78e0c366d18704c93f8db7772659c6.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/widgets/google_prettify/moon-a586c0c53856bb03a2050ca5121629fe.css' type='text/css' rel='stylesheet' media='all'>    

    <!-- script -->
<script src='/assets/javascripts/jquery-1.8.2.min-cfa9051cc0b05eb519f1e16b2a6645d7.js'></script>
<script src='/assets/javascripts/bootstrap.min-240e44e4195f0836ced0eab636f9cb0c.js'></script>
<script src='/assets/javascripts/front-9bcae9460ba6dd25c936b7bdc47a9998.js'></script>
<script src='/assets/javascripts/jquery.c.min-e08fd6c1881afcf509255ce8b8f9b32b.js'></script>
<script src='/assets/javascripts/jquery.smooth-scroll.min-5caac1be39aee89977e39f82d14f0e08.js'></script>    
    
	

<script src="/assets/widgets/lazyload/javascripts/jquery.lazyload.min.js"></script>
    <!-- lazyload -->
    <script type="text/javascript">
      jQuery(document).ready(function($){
      if (navigator.platform == "iPad") return;
      jQuery("img.lazy").not(".cycle img").lazyload({
      effect:"fadeIn",
      placeholder: "/assets/media/ajax-loader.gif"
      });
      });
    </script>
   

    
<!-- Add mousewheel plugin (this is optional) -->
<script type="text/javascript" src="//cdn.staticfile.org/jquery-mousewheel/3.1.3/jquery.mousewheel.min.js"></script>


<!-- Add fancyBox -->
<link rel="stylesheet" href="/assets/widgets/fancybox/stylesheets/jquery.fancybox.css" type="text/css" media="screen" />
<script src="/assets/widgets/fancybox/javascripts/jquery.fancybox.pack.js"></script>

<!-- Optionally add helpers - button, thumbnail and/or media -->

<!-- <link rel="stylesheet" href="/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen" />
<script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.6"></script>

<link rel="stylesheet" href="/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen" />
<script type="text/javascript" src="/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script> -->


<script type="text/javascript">
      $(document).ready(function() {
      $(".fancybox").fancybox();
      });
    </script>
   


    <link rel="shortcut icon" href="/assets/media/favicon.ico">
    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
	 <link rel="shortcut icon" href="images/favicon.ico">
	 <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	 <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	 <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	 -->
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12243999-3']);
  _gaq.push(['_trackPageview']);
  

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    <!-- processing -->
    
<script type="text/javascript"
  src="http://cdn.staticfile.org/processing.js/1.4.1/processing.min.js">
</script>

  </head>
  <body>
    <div class="container">
      <div class="row-fluid">
	<div class="span2 hidden-phone"></div>
	<div class="span8">
	  <header class="header pull-left">
	    <h1>初尝 Android Studio</h1>
	  </header>
  	  <button type="button" class="btn btn-navbar pull-right" data-toggle="collapse" data-target=".nav-collapse">
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	    </button>
	</div> <!-- header -->

         </div>
      <div class="row-fluid">
	<div class="span2 hidden-phone"></div>
	<div class="span8 content">
	  <div class="nav-wrapper nav-collapse collapse"   data-spy="affix" data-offset-top="70" >
	    <nav class="nav moon-nav-list">
	      <ul>
	        <li><a href="/" rel="tooltip" data-placement="top" title="主頁">home</a></li>
	        <li><a href="/archives" rel="tooltip" data-placement="top" title="文章歸檔">archives</a></li>
	        <li><a href="/notes" rel="tooltip" data-placement="top" title="我的個人筆記">notes</a></li>
	        <li><a href="/rss.xml" rel="tooltip" data-placement="top" title="訂閱">feed</a></li>
	        <li><a href="/about" rel="tooltip" data-placement="top" title="關於我">about</a></li>
	        <li  class="separate"></li>
	        <li> 
	  	<a class="meta-nav next" href="/2013/08/16/the-pain-of-note">
	  	  <span>←<br></span>笔记之舛·序
	  	</a>
	        </li>
	        <li>
	  	<a class="meta-nav previous" href="/2013/03/17/for-whom-the-blog-tolls">
	  	  博客为谁而写<span><br>→</span>
	  	</a>
	        </li>
	      </ul>
	    </nav>
	  </div>
	  
	      <article class="post box">
<ul class="category-label">
<li><a href="/categories#coder-ref" class="coder">coder</a></li>
</ul>
<div class="cf"></div>


<p>Google I/O 2013 放出的新 Android IDE，基于 IntelliJ IDEA，现在还只是早期预览版本。断断续续用了几天后，得出一个结论，强烈不建议用来作正式开发工具。当然，这个其实看它的版本名就知道。一方面是不完善，从建立一个新项目到打包运行，遇到问题不断。另一方面，也是最不可接受的一点，就是打包速度慢。一台 E5200 的 Win7，一次 clean 要<strong>10秒</strong>以上，然后 compileDebug 要<strong>30秒</strong>。一台 i5-3550 同时配备有固态硬盘的 Hackintosh， clean 一次仍要<strong>5秒</strong>，compileDebug 要<strong>15秒</strong>。而且花在 checkSource 上的时间很多。做一个小改动再重新运行也要等很久，这一点严重拖慢开发效率（有这个空隙总会不自觉地去刷刷 reader，从而导致更多的拖延）。目前没有方法，一方面可能是 groovy 、gradle 本身的局限，一方面是现在这个 New Build System 也还不完善，现在版本才是0.3，还是有很大的改进空间的。另外，用 <a href="http://www.gradle.org/docs/current/userguide/gradle_daemon.html" title="">daemon</a> 模式也可以加速。</p>

<p>不过，Android Studio 还是很让人期待的，特别是看过 <a href="http://www.youtube.com/watch?v=lmv1dTnhLH4" title="">&quot;What&#39;s new in Android Developer Tools&quot;</a> 里面介绍的那些很酷的特性。终于可以摆脱 Eclipse 的一些顽疾和那老气沉沉的 UI 了（我是 Swing 爱好者，没做 Android 之前 Netbeans 才是我的日常IDE，可惜 ADT 没 Netbeans 的份）。摆脱了 Eclipse 后，Android IDE 才能有更大发挥，比如说新 Layout Design ，不必再望 Interface Builder 空叹了。而 JetBrains 也是声名在外，上次它在国内做活动的时候，差点买了 AppCode 和 RubyMine。至于 IntelliJ IDEA 我算是久仰其名，未见其面吧，其实也试用过，不过当时是非 Android 官方支持的，不敢随便就切换过去。最值得一提的是，从 Eclipse 切换 到 IntelliJ IDEA 的成本其实不高，有一些<a href="http://confluence.jetbrains.com/display/IDEADEV/Structure+of+IntelliJ+IDEA+Project" title="">概念</a>的混淆。但都有 Emacs Keymap，还有最蛋疼的一点，现在　Android　Studio　还只是个<strong>「编辑器」</strong>，最容易导致问题的打包、依赖问题，现在做到　New Build System 了，目前还没整合进 Android Studio。所以打包依赖问题，不但要在 IDE 里配置一遍，还要自己写上一遍 <code>build.gradle</code>。</p>

<p>以加入 ActionBarSherlock 为例，一开始不了解，尝试了多种方法，四处碰壁。用配置 IDE 的方法只能解决编码时的引用问题，最后只有 <a href="http://stackoverflow.com/a/16639227/851344" title="">@froger_mcs</a> 的方法是可成功打包运行的。才发现要用 Android Studio 了解下 gradle 是必须的（在这之前我还没听说过 gradle）看一下 <a href="http://www.gradle.org/docs/current/userguide/userguide_single.html#overview" title="">Gradle User Guide</a>，最少看完第六章，就有点概念了。后来再看了 I/O 的讲座 <a href="https://www.youtube.com/watch?v=LCJAgPkpmR0" title="">&quot;The New Android SDK Build System&quot;</a>，豁然开朗。才知道原来 Android 推出了个新的基于 gradle 的构建系统。<a href="http://tools.android.com/tech-docs/new-build-system/user-guide" title="">这里</a>是详细的文档。还有，New Android Build System 需要 gradle 1.6， brew 只能下载到 1.5。</p>

<p>IntelliJ IDEA 默认的 Emacs Keymap 比 Eclipse 默认的好用，虽然还比不上 Emacs+，比如<code>c-x c-b</code> 不好用，但胜在足够稳定，贴合系统。不过在 Mac 下就没那么好了，option 键仍与 meta 键冲突（Aquamacs 中不会有这个问题），最后只能用一个新的 keyboard layout 屏蔽掉 option 输入字符快捷键（option 配合字母键输入特殊字符，我怎么觉得是个不怎么实用的功能），才能作为 meta 键使用。具体操作按照 <a href="http://stackoverflow.com/questions/11876485/how-to-disable-typing-special-characters-when-pressing-option-key-in-mac-os-x" title="">@dan</a> 的方法实现。但是这个 layout 不能在 Aquamacs 中输入字符，来回切换也麻烦。</p>

<p>还有 git ，IntelliJ IDEA 默认就支持 git，我之前就配置好 cygwin 下的 git 环境。它还能自动检测到 cygwin ，并用 cygwin 的 git 来提交。<code>.gitignore</code> 不知该如何写，直接把仓库建在 src 目录下是最方便的。</p>

<p>之前用 Eclipse Helios 总会遇到一些假死和突然崩溃，很可能是 ADT 的 bug。升级到 Juno 后好像不会了，不过 Juno 要配合 Emacs+ 也需要一番折腾，现在回想起来现在用的 Eclipse 好像已经足够稳定了，相比 Xcode ，ADT 还是有所欠缺，特别是可视化编辑方面，却也足够满足基本需求的，除了一些个人坏癖好现在没什么理由切换到 Android Studio 去做白老鼠。不过现在增量更新很方便，下载个放着也没什么不好。我还是继续坚持使用，有什么问题会及时记录到<a href="/notes/tools/android-studio" title="">笔记</a>里。</p>

<div class="footer">
  <ul class="tag_box inline">
  <li><a href="/tags#Android-ref">Android</a></li>
  <li><a href="/tags#Android Studio-ref">Android Studio</a></li>
  <li><a href="/tags#gradle-ref">gradle</a></li>
  </ul>
  <span class="date">
  2013-05-29
  </span>
</div>
</article>


<div class="box">
  <div class="plus">
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<g:plusone></g:plusone>
    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style"><span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_qzone"></a>
<a class="jiathis_button_tsina"></a>
<a class="jiathis_button_tqq"></a>
<a class="jiathis_button_renren"></a>
<a class="jiathis_button_kaixin001"></a>
<a href="http://www.jiathis.com/share?uid=1677096" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
	data_track_clickback:true,
	hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1677096" charset="utf-8"></script>
<!-- JiaThis Button END -->
	

  </div>
    <div id="disqus_thread"></div>
<script type="text/javascript">
	var disqus_developer = 1;
	var disqus_title = '初尝 Android Studio';

	var disqus_identifier ='posts/first-glance-in-android-studio.md';

	var disqus_shortname = 'doousblog';
	
	var disqus_url = 'https://douo.github.io/moon-2013//2013/05/29/first-glance-in-android-studio';
	
	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>

<noscript>
	Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
<!-- disqus end-->

 </div>

	      </div>  <!-- content -->
      </div>  <!-- row -->
      <div class="row-fluid">
	<div class="span2 hidden-phone"></div>
	<div class="span8">
	  <footer class="statement">
	    <small class＝"copyright">&copy;2009-2013  |</small>
	    <small class= "power">基於 <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
	      和 <a href="http://twitter.github.com/bootstrap/"
	  	  target="_blank">Twitter Bootstrap</a> <a href="/diary"><img src="/assets/media/broken_heart.png"></img></a></small>
	    <small class="license">
	      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh"><img title="知识共享许可协议" style="border-width: 0px; vertical-align: middle; display: inline; " src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" original="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png"></a>		
	    </small>
	  </footer>
	  
	      </div>
      </div>
	
	
<script type="text/javascript">
   $(function(){
   $(window).scroll(function(){  //只要窗口滚动,就触发下面代码 
   var scrollt = document.documentElement.scrollTop + document.body.scrollTop; //获取滚动后的高度 
   if( scrollt >200 ){  //判断滚动后高度超过200px,就显示  
	$("#gotop").fadeIn(400); //淡出     
	}else{      
	$("#gotop").stop().fadeOut(400); //如果返回或者没有超过,就淡入.必须加上stop()停止之前动画,否则会出现闪动   
	}
	});
	$("#gotop").click(function(){ //当点击标签的时候,使用animate在200毫秒的时间内,滚到顶部
	$("html,body").animate({scrollTop:"0px"},200);
	});
	});
</script>
<a id="gotop" href="#">   
	<span>▲</span> 
</a>
    </div> <!-- /container -->
    
    <!-- Google Prettify -->
<script src="http://cdn.staticfile.org/prettify/r298/prettify.min.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
  </body>

</html>
